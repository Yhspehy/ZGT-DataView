import{d as va,b as ca,c as ga,k as ua}from"./index-80613a23.js";import{_ as fa,P as ha,j as C,G as ke,H as Pe,I as $e,n as da,J as Ve,K as pa,p as ya,L as Ge,o as xe,M as ma,N as ba,O as se,T as La,B as Be,Q as Ye,U as Sa,V as Me,W as V,X as xa,x as Te,Y as Ma,Z as We,$ as Ta,s as Q,a0 as Aa,a1 as Da,z as ee,a2 as Xe,a3 as ge,a4 as wa,w as de,a5 as Pa,a6 as _a,r as ue,a7 as Ze,m as Ca,a8 as Ia,a9 as _e,aa as Na,E as U,ab as Ra,ac as Oa,ad as Ea,ae as ka,af as Va,ag as Ga,S as Ke,ah as Ba,ai as Ya,aj as Xa,ak as za,al as ze,am as Je,an as Ua,ao as ja,ap as qa,aq as Ha,ar as Fa}from"./index-c750fe23.js";const $a={name:"ScrollTable"},Wa=va({...$a,props:{position:{default:"bottom"}},setup(n){return(r,t)=>(ca(),ga("div",{class:ua(["divide",n.position])},null,2))}});const At=fa(Wa,[["__scopeId","data-v-769b3ec7"]]);var J=Math.PI*2,z=ha.CMD,Za=["top","right","bottom","left"];function Ka(n,r,t,e,a){var o=t.width,i=t.height;switch(n){case"top":e.set(t.x+o/2,t.y-r),a.set(0,-1);break;case"bottom":e.set(t.x+o/2,t.y+i+r),a.set(0,1);break;case"left":e.set(t.x-r,t.y+i/2),a.set(-1,0);break;case"right":e.set(t.x+o+r,t.y+i/2),a.set(1,0);break}}function Ja(n,r,t,e,a,o,i,l,c){i-=n,l-=r;var g=Math.sqrt(i*i+l*l);i/=g,l/=g;var s=i*t+n,h=l*t+r;if(Math.abs(e-a)%J<1e-4)return c[0]=s,c[1]=h,g-t;if(o){var f=e;e=se(a),a=se(f)}else e=se(e),a=se(a);e>a&&(a+=J);var v=Math.atan2(l,i);if(v<0&&(v+=J),v>=e&&v<=a||v+J>=e&&v+J<=a)return c[0]=s,c[1]=h,g-t;var u=t*Math.cos(e)+n,d=t*Math.sin(e)+r,p=t*Math.cos(a)+n,y=t*Math.sin(a)+r,m=(u-i)*(u-i)+(d-l)*(d-l),b=(p-i)*(p-i)+(y-l)*(y-l);return m<b?(c[0]=u,c[1]=d,Math.sqrt(m)):(c[0]=p,c[1]=y,Math.sqrt(b))}function fe(n,r,t,e,a,o,i,l){var c=a-n,g=o-r,s=t-n,h=e-r,f=Math.sqrt(s*s+h*h);s/=f,h/=f;var v=c*s+g*h,u=v/f;l&&(u=Math.min(Math.max(u,0),1)),u*=f;var d=i[0]=n+u*s,p=i[1]=r+u*h;return Math.sqrt((d-a)*(d-a)+(p-o)*(p-o))}function Qe(n,r,t,e,a,o,i){t<0&&(n=n+t,t=-t),e<0&&(r=r+e,e=-e);var l=n+t,c=r+e,g=i[0]=Math.min(Math.max(a,n),l),s=i[1]=Math.min(Math.max(o,r),c);return Math.sqrt((g-a)*(g-a)+(s-o)*(s-o))}var k=[];function Qa(n,r,t){var e=Qe(r.x,r.y,r.width,r.height,n.x,n.y,k);return t.set(k[0],k[1]),e}function et(n,r,t){for(var e=0,a=0,o=0,i=0,l,c,g=1/0,s=r.data,h=n.x,f=n.y,v=0;v<s.length;){var u=s[v++];v===1&&(e=s[v],a=s[v+1],o=e,i=a);var d=g;switch(u){case z.M:o=s[v++],i=s[v++],e=o,a=i;break;case z.L:d=fe(e,a,s[v],s[v+1],h,f,k,!0),e=s[v++],a=s[v++];break;case z.C:d=ba(e,a,s[v++],s[v++],s[v++],s[v++],s[v],s[v+1],h,f,k),e=s[v++],a=s[v++];break;case z.Q:d=ma(e,a,s[v++],s[v++],s[v],s[v+1],h,f,k),e=s[v++],a=s[v++];break;case z.A:var p=s[v++],y=s[v++],m=s[v++],b=s[v++],M=s[v++],x=s[v++];v+=1;var w=!!(1-s[v++]);l=Math.cos(M)*m+p,c=Math.sin(M)*b+y,v<=1&&(o=l,i=c);var A=(h-p)*b/m+p;d=Ja(p,y,b,M,M+x,w,A,f,k),e=Math.cos(M+x)*m+p,a=Math.sin(M+x)*b+y;break;case z.R:o=e=s[v++],i=a=s[v++];var L=s[v++],T=s[v++];d=Qe(o,i,L,T,h,f,k);break;case z.Z:d=fe(e,a,o,i,h,f,k,!0),e=o,a=i;break}d<g&&(g=d,t.set(k[0],k[1]))}return g}var G=new C,S=new C,D=new C,Y=new C,B=new C;function Ue(n,r){if(n){var t=n.getTextGuideLine(),e=n.getTextContent();if(e&&t){var a=n.textGuideLineConfig||{},o=[[0,0],[0,0],[0,0]],i=a.candidates||Za,l=e.getBoundingRect().clone();l.applyTransform(e.getComputedTransform());var c=1/0,g=a.anchor,s=n.getComputedTransform(),h=s&&pa([],s),f=r.get("length2")||0;g&&D.copy(g);for(var v=0;v<i.length;v++){var u=i[v];Ka(u,0,l,G,Y),C.scaleAndAdd(S,G,Y,f),S.transform(h);var d=n.getBoundingRect(),p=g?g.distance(S):n instanceof ya?et(S,n.path,D):Qa(S,d,D);p<c&&(c=p,S.transform(s),D.transform(s),D.toArray(o[0]),S.toArray(o[1]),G.toArray(o[2]))}ea(o,r.get("minTurnAngle")),t.setShape({points:o})}}}var he=[],I=new C;function ea(n,r){if(r<=180&&r>0){r=r/180*Math.PI,G.fromArray(n[0]),S.fromArray(n[1]),D.fromArray(n[2]),C.sub(Y,G,S),C.sub(B,D,S);var t=Y.len(),e=B.len();if(!(t<.001||e<.001)){Y.scale(1/t),B.scale(1/e);var a=Y.dot(B),o=Math.cos(r);if(o<a){var i=fe(S.x,S.y,D.x,D.y,G.x,G.y,he,!1);I.fromArray(he),I.scaleAndAdd(B,i/Math.tan(Math.PI-r));var l=D.x!==S.x?(I.x-S.x)/(D.x-S.x):(I.y-S.y)/(D.y-S.y);if(isNaN(l))return;l<0?C.copy(I,S):l>1&&C.copy(I,D),I.toArray(n[1])}}}}function at(n,r,t){if(t<=180&&t>0){t=t/180*Math.PI,G.fromArray(n[0]),S.fromArray(n[1]),D.fromArray(n[2]),C.sub(Y,S,G),C.sub(B,D,S);var e=Y.len(),a=B.len();if(!(e<.001||a<.001)){Y.scale(1/e),B.scale(1/a);var o=Y.dot(r),i=Math.cos(t);if(o<i){var l=fe(S.x,S.y,D.x,D.y,G.x,G.y,he,!1);I.fromArray(he);var c=Math.PI/2,g=Math.acos(B.dot(r)),s=c+g-t;if(s>=c)C.copy(I,D);else{I.scaleAndAdd(B,l/Math.tan(Math.PI/2-s));var h=D.x!==S.x?(I.x-S.x)/(D.x-S.x):(I.y-S.y)/(D.y-S.y);if(isNaN(h))return;h<0?C.copy(I,S):h>1&&C.copy(I,D)}I.toArray(n[1])}}}}function je(n,r,t,e){var a=t==="normal",o=a?n:n.ensureState(t);o.ignore=r;var i=e.get("smooth");i&&i===!0&&(i=.3),o.shape=o.shape||{},i>0&&(o.shape.smooth=i);var l=e.getModel("lineStyle").getLineStyle();a?n.useStyle(l):o.style=l}function tt(n,r){var t=r.smooth,e=r.points;if(e)if(n.moveTo(e[0][0],e[0][1]),t>0&&e.length>=3){var a=Ge(e[0],e[1]),o=Ge(e[1],e[2]);if(!a||!o){n.lineTo(e[1][0],e[1][1]),n.lineTo(e[2][0],e[2][1]);return}var i=Math.min(a,o)*t,l=xe([],e[1],e[0],i/a),c=xe([],e[1],e[2],i/o),g=xe([],l,c,.5);n.bezierCurveTo(l[0],l[1],l[0],l[1],g[0],g[1]),n.bezierCurveTo(c[0],c[1],c[0],c[1],e[2][0],e[2][1])}else for(var s=1;s<e.length;s++)n.lineTo(e[s][0],e[s][1])}function aa(n,r,t){var e=n.getTextGuideLine(),a=n.getTextContent();if(!a){e&&n.removeTextGuideLine();return}for(var o=r.normal,i=o.get("show"),l=a.ignore,c=0;c<ke.length;c++){var g=ke[c],s=r[g],h=g==="normal";if(s){var f=s.get("show"),v=h?l:Pe(a.states[g]&&a.states[g].ignore,l);if(v||!Pe(f,i)){var u=h?e:e&&e.states[g];u&&(u.ignore=!0);continue}e||(e=new $e,n.setTextGuideLine(e),!h&&(l||!i)&&je(e,!0,"normal",r.normal),n.stateProxy&&(e.stateProxy=n.stateProxy)),je(e,!1,g,s)}}if(e){da(e.style,t),e.style.fill=null;var d=o.get("showAbove"),p=n.textGuideLineConfig=n.textGuideLineConfig||{};p.showAbove=d||!1,e.buildPath=tt}}function ta(n,r){r=r||"labelLine";for(var t={normal:n.getModel(r)},e=0;e<Ve.length;e++){var a=Ve[e];t[a]=n.getModel([a,r])}return t}function rt(n){if(n){for(var r=[],t=0;t<n.length;t++)r.push(n[t].slice());return r}}function nt(n,r){var t=n.label,e=r&&r.getTextGuideLine();return{dataIndex:n.dataIndex,dataType:n.dataType,seriesIndex:n.seriesModel.seriesIndex,text:n.label.style.text,rect:n.hostRect,labelRect:n.rect,align:t.style.align,verticalAlign:t.style.verticalAlign,labelLinePoints:rt(e&&e.shape.points)}}var qe=["align","verticalAlign","width","height","fontSize"],R=new La,Ae=de(),it=de();function oe(n,r,t){for(var e=0;e<t.length;e++){var a=t[e];r[a]!=null&&(n[a]=r[a])}}var le=["x","y","rotation"],st=function(){function n(){this._labelList=[],this._chartViewList=[]}return n.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},n.prototype._addLabel=function(r,t,e,a,o){var i=a.style,l=a.__hostTarget,c=l.textConfig||{},g=a.getComputedTransform(),s=a.getBoundingRect().plain();Be.applyTransform(s,s,g),g?R.setLocalTransform(g):(R.x=R.y=R.rotation=R.originX=R.originY=0,R.scaleX=R.scaleY=1);var h=a.__hostTarget,f;if(h){f=h.getBoundingRect().plain();var v=h.getComputedTransform();Be.applyTransform(f,f,v)}var u=f&&h.getTextGuideLine();this._labelList.push({label:a,labelLine:u,seriesModel:e,dataIndex:r,dataType:t,layoutOption:o,computedLayoutOption:null,rect:s,hostRect:f,priority:f?f.width*f.height:0,defaultAttr:{ignore:a.ignore,labelGuideIgnore:u&&u.ignore,x:R.x,y:R.y,scaleX:R.scaleX,scaleY:R.scaleY,rotation:R.rotation,style:{x:i.x,y:i.y,align:i.align,verticalAlign:i.verticalAlign,width:i.width,height:i.height,fontSize:i.fontSize},cursor:a.cursor,attachedPos:c.position,attachedRot:c.rotation}})},n.prototype.addLabelsOfSeries=function(r){var t=this;this._chartViewList.push(r);var e=r.__model,a=e.get("labelLayout");(Ye(a)||Sa(a).length)&&r.group.traverse(function(o){if(o.ignore)return!0;var i=o.getTextContent(),l=Me(o);i&&!i.disableLabelLayout&&t._addLabel(l.dataIndex,l.dataType,e,i,a)})},n.prototype.updateLayoutConfig=function(r){var t=r.getWidth(),e=r.getHeight();function a(b,M){return function(){Ue(b,M)}}for(var o=0;o<this._labelList.length;o++){var i=this._labelList[o],l=i.label,c=l.__hostTarget,g=i.defaultAttr,s=void 0;Ye(i.layoutOption)?s=i.layoutOption(nt(i,c)):s=i.layoutOption,s=s||{},i.computedLayoutOption=s;var h=Math.PI/180;c&&c.setTextConfig({local:!1,position:s.x!=null||s.y!=null?null:g.attachedPos,rotation:s.rotate!=null?s.rotate*h:g.attachedRot,offset:[s.dx||0,s.dy||0]});var f=!1;if(s.x!=null?(l.x=V(s.x,t),l.setStyle("x",0),f=!0):(l.x=g.x,l.setStyle("x",g.style.x)),s.y!=null?(l.y=V(s.y,e),l.setStyle("y",0),f=!0):(l.y=g.y,l.setStyle("y",g.style.y)),s.labelLinePoints){var v=c.getTextGuideLine();v&&(v.setShape({points:s.labelLinePoints}),f=!1)}var u=Ae(l);u.needsUpdateLabelLine=f,l.rotation=s.rotate!=null?s.rotate*h:g.rotation,l.scaleX=g.scaleX,l.scaleY=g.scaleY;for(var d=0;d<qe.length;d++){var p=qe[d];l.setStyle(p,s[p]!=null?s[p]:g.style[p])}if(s.draggable){if(l.draggable=!0,l.cursor="move",c){var y=i.seriesModel;if(i.dataIndex!=null){var m=i.seriesModel.getData(i.dataType);y=m.getItemModel(i.dataIndex)}l.on("drag",a(c,y.getModel("labelLine")))}}else l.off("drag"),l.cursor=g.cursor}},n.prototype.layout=function(r){var t=r.getWidth(),e=r.getHeight(),a=xa(this._labelList),o=Te(a,function(c){return c.layoutOption.moveOverlap==="shiftX"}),i=Te(a,function(c){return c.layoutOption.moveOverlap==="shiftY"});Ma(o,0,t),We(i,0,e);var l=Te(a,function(c){return c.layoutOption.hideOverlap});Ta(l)},n.prototype.processLabelsOverall=function(){var r=this;Q(this._chartViewList,function(t){var e=t.__model,a=t.ignoreLabelLineUpdate,o=e.isAnimationEnabled();t.group.traverse(function(i){if(i.ignore&&!i.forceLabelAnimation)return!0;var l=!a,c=i.getTextContent();!l&&c&&(l=Ae(c).needsUpdateLabelLine),l&&r._updateLabelLine(i,e),o&&r._animateLabels(i,e)})})},n.prototype._updateLabelLine=function(r,t){var e=r.getTextContent(),a=Me(r),o=a.dataIndex;if(e&&o!=null){var i=t.getData(a.dataType),l=i.getItemModel(o),c={},g=i.getItemVisual(o,"style"),s=i.getVisual("drawType");c.stroke=g[s];var h=l.getModel("labelLine");aa(r,ta(l),c),Ue(r,h)}},n.prototype._animateLabels=function(r,t){var e=r.getTextContent(),a=r.getTextGuideLine();if(e&&(r.forceLabelAnimation||!e.ignore&&!e.invisible&&!r.disableLabelAnimation&&!Aa(r))){var o=Ae(e),i=o.oldLayout,l=Me(r),c=l.dataIndex,g={x:e.x,y:e.y,rotation:e.rotation},s=t.getData(l.dataType);if(i){e.attr(i);var f=r.prevStates;f&&(Xe(f,"select")>=0&&e.attr(o.oldLayoutSelect),Xe(f,"emphasis")>=0&&e.attr(o.oldLayoutEmphasis)),ge(e,g,t,c)}else if(e.attr(g),!Da(e).valueAnimation){var h=Pe(e.style.opacity,1);e.style.opacity=0,ee(e,{style:{opacity:h}},t,c)}if(o.oldLayout=g,e.states.select){var v=o.oldLayoutSelect={};oe(v,g,le),oe(v,e.states.select,le)}if(e.states.emphasis){var u=o.oldLayoutEmphasis={};oe(u,g,le),oe(u,e.states.emphasis,le)}wa(e,c,s,t,t)}if(a&&!a.ignore&&!a.invisible){var o=it(a),i=o.oldLayout,d={points:a.shape.points};i?(a.attr({shape:i}),ge(a,{shape:d},t)):(a.setShape(d),a.style.strokePercent=0,ee(a,{style:{strokePercent:1}},t)),o.oldLayout=d}},n}();const ot=st;var De=de();function Dt(n){n.registerUpdateLifecycle("series:beforeupdate",function(r,t,e){var a=De(t).labelManager;a||(a=De(t).labelManager=new ot),a.clearLabels()}),n.registerUpdateLifecycle("series:layoutlabels",function(r,t,e){var a=De(t).labelManager;e.updatedSeries.forEach(function(o){a.addLabelsOfSeries(t.getViewOfSeriesModel(o))}),a.updateLayoutConfig(t),a.layout(t),a.processLabelsOverall()})}var ve=Math.PI*2,He=Math.PI/180;function ra(n,r){return _a(n.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()})}function na(n,r){var t=ra(n,r),e=n.get("center"),a=n.get("radius");ue(a)||(a=[0,a]);var o=V(t.width,r.getWidth()),i=V(t.height,r.getHeight()),l=Math.min(o,i),c=V(a[0],l/2),g=V(a[1],l/2),s,h,f=n.coordinateSystem;if(f){var v=f.dataToPoint(e);s=v[0]||0,h=v[1]||0}else ue(e)||(e=[e,e]),s=V(e[0],o)+t.x,h=V(e[1],i)+t.y;return{cx:s,cy:h,r0:c,r:g}}function lt(n,r,t){r.eachSeriesByType(n,function(e){var a=e.getData(),o=a.mapDimension("value"),i=ra(e,t),l=na(e,t),c=l.cx,g=l.cy,s=l.r,h=l.r0,f=-e.get("startAngle")*He,v=e.get("minAngle")*He,u=0;a.each(o,function(_){!isNaN(_)&&u++});var d=a.getSum(o),p=Math.PI/(d||u)*2,y=e.get("clockwise"),m=e.get("roseType"),b=e.get("stillShowZeroSum"),M=a.getDataExtent(o);M[0]=0;var x=ve,w=0,A=f,L=y?1:-1;if(a.setLayout({viewRect:i,r:s}),a.each(o,function(_,O){var P;if(isNaN(_)){a.setItemLayout(O,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:y,cx:c,cy:g,r0:h,r:m?NaN:s});return}m!=="area"?P=d===0&&b?p:_*p:P=ve/u,P<v?(P=v,x-=v):w+=_;var N=A+L*P;a.setItemLayout(O,{angle:P,startAngle:A,endAngle:N,clockwise:y,cx:c,cy:g,r0:h,r:m?Pa(_,M,[h,s]):s}),A=N}),x<ve&&u)if(x<=.001){var T=ve/u;a.each(o,function(_,O){if(!isNaN(_)){var P=a.getItemLayout(O);P.angle=T,P.startAngle=f+L*O*T,P.endAngle=f+L*(O+1)*T}})}else p=x/w,A=f,a.each(o,function(_,O){if(!isNaN(_)){var P=a.getItemLayout(O),N=P.angle===v?v:_*p;P.startAngle=A,P.endAngle=A+L*N,A+=L*N}})})}function vt(n){return{seriesType:n,reset:function(r,t){var e=t.findComponents({mainType:"legend"});if(!(!e||!e.length)){var a=r.getData();a.filterSelf(function(o){for(var i=a.getName(o),l=0;l<e.length;l++)if(!e[l].isSelected(i))return!1;return!0})}}}}var ct=Math.PI/180;function Fe(n,r,t,e,a,o,i,l,c,g){if(n.length<2)return;function s(d){for(var p=d.rB,y=p*p,m=0;m<d.list.length;m++){var b=d.list[m],M=Math.abs(b.label.y-t),x=e+b.len,w=x*x,A=Math.sqrt((1-Math.abs(M*M/y))*w),L=r+(A+b.len2)*a,T=L-b.label.x,_=b.targetTextWidth-T*a;ia(b,_,!0),b.label.x=L}}function h(d){for(var p={list:[],maxY:0},y={list:[],maxY:0},m=0;m<d.length;m++)if(d[m].labelAlignTo==="none"){var b=d[m],M=b.label.y>t?y:p,x=Math.abs(b.label.y-t);if(x>=M.maxY){var w=b.label.x-r-b.len2*a,A=e+b.len,L=Math.abs(w)<A?Math.sqrt(x*x/(1-w*w/A/A)):A;M.rB=L,M.maxY=x}M.list.push(b)}s(p),s(y)}for(var f=n.length,v=0;v<f;v++)if(n[v].position==="outer"&&n[v].labelAlignTo==="labelLine"){var u=n[v].label.x-g;n[v].linePoints[1][0]+=u,n[v].label.x=g}We(n,c,c+i)&&h(n)}function gt(n,r,t,e,a,o,i,l){for(var c=[],g=[],s=Number.MAX_VALUE,h=-Number.MAX_VALUE,f=0;f<n.length;f++){var v=n[f].label;we(n[f])||(v.x<r?(s=Math.min(s,v.x),c.push(n[f])):(h=Math.max(h,v.x),g.push(n[f])))}for(var f=0;f<n.length;f++){var u=n[f];if(!we(u)&&u.linePoints){if(u.labelStyleWidth!=null)continue;var v=u.label,d=u.linePoints,p=void 0;u.labelAlignTo==="edge"?v.x<r?p=d[2][0]-u.labelDistance-i-u.edgeDistance:p=i+a-u.edgeDistance-d[2][0]-u.labelDistance:u.labelAlignTo==="labelLine"?v.x<r?p=s-i-u.bleedMargin:p=i+a-h-u.bleedMargin:v.x<r?p=v.x-i-u.bleedMargin:p=i+a-v.x-u.bleedMargin,u.targetTextWidth=p,ia(u,p)}}Fe(g,r,t,e,1,a,o,i,l,h),Fe(c,r,t,e,-1,a,o,i,l,s);for(var f=0;f<n.length;f++){var u=n[f];if(!we(u)&&u.linePoints){var v=u.label,d=u.linePoints,y=u.labelAlignTo==="edge",m=v.style.padding,b=m?m[1]+m[3]:0,M=v.style.backgroundColor?0:b,x=u.rect.width+M,w=d[1][0]-d[2][0];y?v.x<r?d[2][0]=i+u.edgeDistance+x+u.labelDistance:d[2][0]=i+a-u.edgeDistance-x-u.labelDistance:(v.x<r?d[2][0]=v.x+u.labelDistance:d[2][0]=v.x-u.labelDistance,d[1][0]=d[2][0]+w),d[1][1]=d[2][1]=v.y}}}function ia(n,r,t){if(t===void 0&&(t=!1),n.labelStyleWidth==null){var e=n.label,a=e.style,o=n.rect,i=a.backgroundColor,l=a.padding,c=l?l[1]+l[3]:0,g=a.overflow,s=o.width+(i?0:c);if(r<s||t){var h=o.height;if(g&&g.match("break")){e.setStyle("backgroundColor",null),e.setStyle("width",r-c);var f=e.getBoundingRect();e.setStyle("width",Math.ceil(f.width)),e.setStyle("backgroundColor",i)}else{var v=r-c,u=r<s?v:t?v>n.unconstrainedWidth?null:v:null;e.setStyle("width",u)}var d=e.getBoundingRect();o.width=d.width;var p=(e.style.margin||0)+2.1;o.height=d.height+p,o.y-=(o.height-h)/2}}}function we(n){return n.position==="center"}function ut(n){var r=n.getData(),t=[],e,a,o=!1,i=(n.get("minShowLabelAngle")||0)*ct,l=r.getLayout("viewRect"),c=r.getLayout("r"),g=l.width,s=l.x,h=l.y,f=l.height;function v(w){w.ignore=!0}function u(w){if(!w.ignore)return!0;for(var A in w.states)if(w.states[A].ignore===!1)return!0;return!1}r.each(function(w){var A=r.getItemGraphicEl(w),L=A.shape,T=A.getTextContent(),_=A.getTextGuideLine(),O=r.getItemModel(w),P=O.getModel("label"),N=P.get("position")||O.get(["emphasis","label","position"]),pe=P.get("distanceToLabelLine"),ye=P.get("alignTo"),me=V(P.get("edgeDistance"),g),sa=P.get("bleedMargin"),ae=O.getModel("labelLine"),F=ae.get("length");F=V(F,g);var te=ae.get("length2");if(te=V(te,g),Math.abs(L.endAngle-L.startAngle)<i){Q(T.states,v),T.ignore=!0,_&&(Q(_.states,v),_.ignore=!0);return}if(u(T)){var re=(L.startAngle+L.endAngle)/2,E=Math.cos(re),X=Math.sin(re),$,ne,Ce,ie;e=L.cx,a=L.cy;var j=N==="inside"||N==="inner";if(N==="center")$=L.cx,ne=L.cy,ie="center";else{var be=(j?(L.r+L.r0)/2*E:L.r*E)+e,Le=(j?(L.r+L.r0)/2*X:L.r*X)+a;if($=be+E*3,ne=Le+X*3,!j){var Ie=be+E*(F+c-L.r),Ne=Le+X*(F+c-L.r),Re=Ie+(E<0?-1:1)*te,Oe=Ne;ye==="edge"?$=E<0?s+me:s+g-me:$=Re+(E<0?-pe:pe),ne=Oe,Ce=[[be,Le],[Ie,Ne],[Re,Oe]]}ie=j?"center":ye==="edge"?E>0?"right":"left":E>0?"left":"right"}var W=Math.PI,q=0,Z=P.get("rotate");if(Ze(Z))q=Z*(W/180);else if(N==="center")q=0;else if(Z==="radial"||Z===!0){var oa=E<0?-re+W:-re;q=oa}else if(Z==="tangential"&&N!=="outside"&&N!=="outer"){var H=Math.atan2(E,X);H<0&&(H=W*2+H);var la=X>0;la&&(H=W+H),q=H-W}if(o=!!q,T.x=$,T.y=ne,T.rotation=q,T.setStyle({verticalAlign:"middle"}),j){T.setStyle({align:ie});var Se=T.states.select;Se&&(Se.x+=T.x,Se.y+=T.y)}else{var K=T.getBoundingRect().clone();K.applyTransform(T.getComputedTransform());var Ee=(T.style.margin||0)+2.1;K.y-=Ee/2,K.height+=Ee,t.push({label:T,labelLine:_,position:N,len:F,len2:te,minTurnAngle:ae.get("minTurnAngle"),maxSurfaceAngle:ae.get("maxSurfaceAngle"),surfaceNormal:new C(E,X),linePoints:Ce,textAlign:ie,labelDistance:pe,labelAlignTo:ye,edgeDistance:me,bleedMargin:sa,rect:K,unconstrainedWidth:K.width,labelStyleWidth:T.style.width})}A.setTextConfig({inside:j})}}),!o&&n.get("avoidLabelOverlap")&&gt(t,e,a,c,g,f,s,h);for(var d=0;d<t.length;d++){var p=t[d],y=p.label,m=p.labelLine,b=isNaN(y.x)||isNaN(y.y);if(y){y.setStyle({align:p.textAlign}),b&&(Q(y.states,v),y.ignore=!0);var M=y.states.select;M&&(M.x+=y.x,M.y+=y.y)}if(m){var x=p.linePoints;b||!x?(Q(m.states,v),m.ignore=!0):(ea(x,p.minTurnAngle),at(x,p.surfaceNormal,p.maxSurfaceAngle),m.setShape({points:x}),y.__hostTarget.textGuideLineConfig={anchor:new C(x[0][0],x[0][1])})}}}function ce(n,r,t){var e=n.get("borderRadius");if(e==null)return t?{cornerRadius:0}:null;ue(e)||(e=[e,e,e,e]);var a=Math.abs(r.r||0-r.r0||0);return{cornerRadius:Ca(e,function(o){return Ia(o,a)})}}var ft=function(n){_e(r,n);function r(t,e,a){var o=n.call(this)||this;o.z2=2;var i=new Na;return o.setTextContent(i),o.updateData(t,e,a,!0),o}return r.prototype.updateData=function(t,e,a,o){var i=this,l=t.hostModel,c=t.getItemModel(e),g=c.getModel("emphasis"),s=t.getItemLayout(e),h=U(ce(c.getModel("itemStyle"),s,!0),s);if(isNaN(h.startAngle)){i.setShape(h);return}if(o){i.setShape(h);var f=l.getShallow("animationType");l.ecModel.ssr?(ee(i,{scaleX:0,scaleY:0},l,{dataIndex:e,isFrom:!0}),i.originX=h.cx,i.originY=h.cy):f==="scale"?(i.shape.r=s.r0,ee(i,{shape:{r:s.r}},l,e)):a!=null?(i.setShape({startAngle:a,endAngle:a}),ee(i,{shape:{startAngle:s.startAngle,endAngle:s.endAngle}},l,e)):(i.shape.endAngle=s.startAngle,ge(i,{shape:{endAngle:s.endAngle}},l,e))}else Ra(i),ge(i,{shape:h},l,e);i.useStyle(t.getItemVisual(e,"style")),Oa(i,c);var v=(s.startAngle+s.endAngle)/2,u=l.get("selectedOffset"),d=Math.cos(v)*u,p=Math.sin(v)*u,y=c.getShallow("cursor");y&&i.attr("cursor",y),this._updateLabel(l,t,e),i.ensureState("emphasis").shape=U({r:s.r+(g.get("scale")&&g.get("scaleSize")||0)},ce(g.getModel("itemStyle"),s)),U(i.ensureState("select"),{x:d,y:p,shape:ce(c.getModel(["select","itemStyle"]),s)}),U(i.ensureState("blur"),{shape:ce(c.getModel(["blur","itemStyle"]),s)});var m=i.getTextGuideLine(),b=i.getTextContent();m&&U(m.ensureState("select"),{x:d,y:p}),U(b.ensureState("select"),{x:d,y:p}),Ea(this,g.get("focus"),g.get("blurScope"),g.get("disabled"))},r.prototype._updateLabel=function(t,e,a){var o=this,i=e.getItemModel(a),l=i.getModel("labelLine"),c=e.getItemVisual(a,"style"),g=c&&c.fill,s=c&&c.opacity;ka(o,Va(i),{labelFetcher:e.hostModel,labelDataIndex:a,inheritColor:g,defaultOpacity:s,defaultText:t.getFormattedLabel(a,"normal")||e.getName(a)});var h=o.getTextContent();o.setTextConfig({position:null,rotation:null}),h.attr({z2:10});var f=t.get(["label","position"]);if(f!=="outside"&&f!=="outer")o.removeTextGuideLine();else{var v=this.getTextGuideLine();v||(v=new $e,this.setTextGuideLine(v)),aa(this,ta(i),{stroke:g,opacity:Ga(l.get(["lineStyle","opacity"]),s,1)})}},r}(Ke),ht=function(n){_e(r,n);function r(){var t=n!==null&&n.apply(this,arguments)||this;return t.ignoreLabelLineUpdate=!0,t}return r.prototype.render=function(t,e,a,o){var i=t.getData(),l=this._data,c=this.group,g;if(!l&&i.count()>0){for(var s=i.getItemLayout(0),h=1;isNaN(s&&s.startAngle)&&h<i.count();++h)s=i.getItemLayout(h);s&&(g=s.startAngle)}if(this._emptyCircleSector&&c.remove(this._emptyCircleSector),i.count()===0&&t.get("showEmptyCircle")){var f=new Ke({shape:na(t,a)});f.useStyle(t.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=f,c.add(f)}i.diff(l).add(function(v){var u=new ft(i,v,g);i.setItemGraphicEl(v,u),c.add(u)}).update(function(v,u){var d=l.getItemGraphicEl(u);d.updateData(i,v,g),d.off("click"),c.add(d),i.setItemGraphicEl(v,d)}).remove(function(v){var u=l.getItemGraphicEl(v);Ba(u,t,v)}).execute(),ut(t),t.get("animationTypeUpdate")!=="expansion"&&(this._data=i)},r.prototype.dispose=function(){},r.prototype.containPoint=function(t,e){var a=e.getData(),o=a.getItemLayout(0);if(o){var i=t[0]-o.cx,l=t[1]-o.cy,c=Math.sqrt(i*i+l*l);return c<=o.r&&c>=o.r0}},r.type="pie",r}(Ya);const dt=ht;function pt(n,r,t){r=ue(r)&&{coordDimensions:r}||U({encodeDefine:n.getEncode()},r);var e=n.getSource(),a=Xa(e,r).dimensions,o=new za(a,n);return o.initData(e,t),o}var yt=function(){function n(r,t){this._getDataWithEncodedVisual=r,this._getRawData=t}return n.prototype.getAllNames=function(){var r=this._getRawData();return r.mapArray(r.getName)},n.prototype.containName=function(r){var t=this._getRawData();return t.indexOfName(r)>=0},n.prototype.indexOfName=function(r){var t=this._getDataWithEncodedVisual();return t.indexOfName(r)},n.prototype.getItemVisual=function(r,t){var e=this._getDataWithEncodedVisual();return e.getItemVisual(r,t)},n}();const mt=yt;var bt=de(),Lt=function(n){_e(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new mt(ze(this.getData,this),ze(this.getRawData,this)),this._defaultLabelLine(t)},r.prototype.mergeOption=function(){n.prototype.mergeOption.apply(this,arguments)},r.prototype.getInitialData=function(){return pt(this,{coordDimensions:["value"],encodeDefaulter:Je(Ua,this)})},r.prototype.getDataParams=function(t){var e=this.getData(),a=bt(e),o=a.seats;if(!o){var i=[];e.each(e.mapDimension("value"),function(c){i.push(c)}),o=a.seats=ja(i,e.hostModel.get("percentPrecision"))}var l=n.prototype.getDataParams.call(this,t);return l.percent=o[t]||0,l.$vars.push("percent"),l},r.prototype._defaultLabelLine=function(t){qa(t,"labelLine",["show"]);var e=t.labelLine,a=t.emphasis.labelLine;e.show=e.show&&t.label.show,a.show=a.show&&t.emphasis.label.show},r.type="series.pie",r.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},r}(Ha);const St=Lt;function xt(n){return{seriesType:n,reset:function(r,t){var e=r.getData();e.filterSelf(function(a){var o=e.mapDimension("value"),i=e.get(o,a);return!(Ze(i)&&!isNaN(i)&&i<0)})}}}function wt(n){n.registerChartView(dt),n.registerSeriesModel(St),Fa("pie",n.registerAction),n.registerLayout(Je(lt,"pie")),n.registerProcessor(vt("pie")),n.registerProcessor(xt("pie"))}export{At as D,Dt as a,wt as i};
